{% extends "base.html" %}

{% block title %}{{ titulo }}{% endblock %}

{% block content %}

<h3 class="mb-4">{{ titulo }}</h3>

<div class="row">
<!-- Columna de Entradas -->
<div class="col-lg-6 mb-4">
<h4>Últimas Entradas</h4>
{% if entradas %}
<div class="table-responsive">
<table class="table table-striped table-sm">
<thead>
<tr>
<th>Insumo</th>
<th>Cantidad</th>
<th>Fecha</th>
<th>Usuario</th>
</tr>
</thead>
<tbody>
{% for entrada in entradas %}
<tr>
<td>{{ entrada.insumo.nombre }}</td>
<td><span class="badge bg-success">+ {{ entrada.cantidad|floatformat:2 }}</span></td>
<td>{{ entrada.fecha|date:"d/m/Y" }}</td>
<td>{{ entrada.usuario.name|default:entrada.usuario.email }}</td>
</tr>
{% endfor %}
</tbody>
</table>
</div>
{% else %}
<div class="alert alert-info">No hay movimientos de entrada registrados.</div>
{% endif %}
</div>

<!-- Columna de Salidas -->
<div class="col-lg-6 mb-4">
    <h4>Últimas Salidas</h4>
    {% if salidas %}
    <div class="table-responsive">
        <table class="table table-striped table-sm">
            <thead>
                <tr>
                    <th>Insumo</th>
                    <th>Cantidad</th>
                    <th>Fecha</th>
                    <th>Usuario</th>
                </tr>
            </thead>
            <tbody>
                {% for salida in salidas %}
                <tr>
                    <td>{{ salida.insumo.nombre }}</td>
                    <td><span class="badge bg-danger">- {{ salida.cantidad|floatformat:2 }}</span></td>
                    <td>{{ salida.fecha_generada|date:"d/m/Y" }}</td>
                    <td>{{ salida.usuario.name|default:salida.usuario.email }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    {% else %}
    <div class="alert alert-info">No hay movimientos de salida registrados.</div>
    {% endif %}
</div>

</div>
{% endblock %}